<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title></title>

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />

        <link rel="openid.server" href="http://www.blogger.com/openid-server.g" />
        <link rel="openid.delegate" href="http://andreafrancia.blogspot.com/" />

        <link href="/css/layout.css" rel="stylesheet" type="text/css" />
        <link href="/css/code-highlight.css" rel="stylesheet" type="text/css" />

        <link rel="alternate" type="application/rss+xml" title="Feed" href="/atom.xml" />

        <!-- Histats.com  START  --> 
<script async type="text/javascript" language="javascript"> 
var s_sid = 321314;var st_dominio = 4; 
var cimg = 0;var cwi =150;var che =30; 
</script> 
<script  async type="text/javascript" language="javascript" src="http://s11.histats.com/js9.js"/></script> 
<noscript><img src="http://s103.histats.com/stats/0.gif?321314&1" alt="contatore free" border="0"/> 
</noscript> 

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4316218-1']);
  _gaq.push(['_setDomainName', 'andreafrancia.it']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    </head>
    <body>
        <div id='mainnav' class='nav'>
    <ul>
        <li><a href="/">andreafrancia.it</a>
        <li><a href="/log.html">blog</a>
        <li class="last"><a href="/tdd-ios.html">TDD su iOS</a>
    </ul>
</div>

        <div id="contents">
            <h1>Creare un repository personale svn+ssh://</h1>
<div class='post'>
<span style="font-size:180%;">Ingredienti (requisiti):</span>
<ul><li>Un server unix (o unix-like) accessibile da internet
</li><li>Subversion installato sul server unix</li><li>Una macchina Windows che fa da client
</li><li>TortoiseSVN e PuTTY installati sulla macchina Windows</li><li>Una file .ppk con la propria chiave SSH
</li></ul><span style="font-size:180%;">Procedimento:</span>

Accedere al server unix e creare il repository, con  i comandi:
<code>
mkdir ~/svn-repo
svnadmin create  ~/svn-repo
</code>
Installare la propria chiave pubblica sul server unix:

<code>mkdir ~/.ssh
chmod 700 ~/.ssh
echo "echo &lt;my-rsa-key&gt; </code><code>&gt;</code><code>&gt; </code><code>.ssh/authorized_keys"</code>

Per conoscere la propria chiave pubblica aprite il vostro file .ppk con PuTTYgen. Se non avete un file .ppk createlo (sempre con PuTTYgen).

Usate Pageant per caricare la chiave .ppk.

Verificate che quando vi collegate con PuTTY che l'autenticazione avvenga senza dover immettere la password.

A questo punto provate a collegarvi al server con TortoiseSVN usando il seguente url of repository:
<code>
svn+ssh://username@server-unix.com/home/username/svn-repo/
</code>
E' importante che l'url contenga anche la specifica dello username (la parte "serenity@") altrimenti TortoiseSVN te lo chiederebbe e ciò sarebbe noioso.

Se non conoscete il path assoluto usate il comando "pwd" dalla shell del server unix.

<span style="font-size:180%;">Commenti:</span>
<ul><li>L'utilizzo di Pageant e dell'autenticazione basata su chiave pubblica è consigliato perché altrimenti  altrimenti dovresti  riscrivere più e più volte la password durante anche una singola operazione.</li><li>Il server svn+ssh:// è comodo perché è più facile da installare che il corrispondente servizio http:// ma ha una serie di svantaggi, questi sono descritti nel libro <a href="http://svnbook.red-bean.com/en/1.5/svn.serverconfig.choosing.html#svn.serverconfig.choosing.svn-ssh">svnbook</a>.
</li></ul></div>

        </div>
        <!-- Histats.com  START  --> 
<script async type="text/javascript" language="javascript"> 
var s_sid = 321314;var st_dominio = 4; 
var cimg = 0;var cwi =150;var che =30; 
</script> 
<script  async type="text/javascript" language="javascript" src="http://s11.histats.com/js9.js"/></script> 
<noscript><img src="http://s103.histats.com/stats/0.gif?321314&1" alt="contatore free" border="0"/> 
</noscript> 

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4316218-1']);
  _gaq.push(['_setDomainName', 'andreafrancia.it']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    </body>
</html>
