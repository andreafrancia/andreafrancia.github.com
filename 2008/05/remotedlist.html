<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title></title>

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />

        <link rel="openid.server" href="http://www.blogger.com/openid-server.g" />
        <link rel="openid.delegate" href="http://andreafrancia.blogspot.com/" />

        <link href="/css/layout.css" rel="stylesheet" type="text/css" />
        <link href="/css/code-highlight.css" rel="stylesheet" type="text/css" />

        <link rel="alternate" type="application/rss+xml" title="Feed" href="/atom.xml" />

        <!-- Histats.com  START  --> 
<script async type="text/javascript" language="javascript"> 
var s_sid = 321314;var st_dominio = 4; 
var cimg = 0;var cwi =150;var che =30; 
</script> 
<script  async type="text/javascript" language="javascript" src="http://s11.histats.com/js9.js"/></script> 
<noscript><img src="http://s103.histats.com/stats/0.gif?321314&1" alt="contatore free" border="0"/> 
</noscript> 

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4316218-1']);
  _gaq.push(['_setDomainName', 'andreafrancia.it']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    </head>
    <body>
        <div id='mainnav' class='nav'>
    <ul>
        <li><a href="/">andreafrancia.it</a>
        <li><a href="/log.html">log</a>
        <li><a href="/resume.html">cv</a></li>
        <li><a href='/talks.html'>speaking</a>
        <li><a href="/code.html">coding</a></li>
        <li class="last"><a href="/library.html">reading</a></li>
    </ul>
</div>

        <div id="contents">
            <h1>RemotedList</h1>
<div class='post'>
I want to create a library to solve a problem which happens to me very often working with RMI and JPA.

Consider having a remote server object with an interface like this:
<pre>public Server implements Remote{
    List&lt;Foo&gt; getFoos() throws RemoteException;
}
</pre>According to the the RMI specification calling this method will cause that the resulting List is serialized and passed back over the network to the client.
Consider the case when the resulting list is huge and you don't want pass such a big thing over the network or consider the case when the list is not serializable.

My remoted-list library will address these problems replacing a the actual list with a remoted version that lazily load the elements.

The usage of remote-list is simple. Consider the getFoos() implementation:
<pre>List&lt;Foo&gt; getFoos() {
   List&lt;Foo&gt; actualList = ... // create or get a list according your business logic
   List&lt;Foo&gt; remotedList = RemotedList.remotize(actualList);

   return remotedList;
}
</pre>Instead to returning the <code>actualList</code> the method returns a <code>remotedList</code> which reflects the contents of the actualList mantaining a remote reference to <code>actualList</code>.
The remoteList is also Serializable and ligth to serialize because it contains only a remote reference to the <code>actualList</code> instead to contains all reference of all elements.

Now consider the client which retrieve the remotedList from the remote object.<pre>remotedList = server.getFoos();
...
element = remoteList.get(index);
</pre>When the client call <code>remoteList.get(index)</code> the <code>remoteList</code> acts like a proxy and call through RMI the <code>get(index)</code> method on the <code>actualList</code> which was left on the server JVM.

This is the idea. Soon I will prepare the library and I will release it for you all!

<span style="font-weight: bold;">UPATE 2008-05-15</span>
I wrote the code and I put it online throuh Google Code.
The project is hosted at <a href="http://code.google.com/p/remoted-list/">http://code.google.com/p/remoted-list/</a>.</div>

        </div>
        <!-- Histats.com  START  --> 
<script async type="text/javascript" language="javascript"> 
var s_sid = 321314;var st_dominio = 4; 
var cimg = 0;var cwi =150;var che =30; 
</script> 
<script  async type="text/javascript" language="javascript" src="http://s11.histats.com/js9.js"/></script> 
<noscript><img src="http://s103.histats.com/stats/0.gif?321314&1" alt="contatore free" border="0"/> 
</noscript> 

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4316218-1']);
  _gaq.push(['_setDomainName', 'andreafrancia.it']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    </body>
</html>
