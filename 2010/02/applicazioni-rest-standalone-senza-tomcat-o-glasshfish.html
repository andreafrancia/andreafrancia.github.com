<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title></title>

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />

        <link rel="openid.server" href="http://www.blogger.com/openid-server.g" />
        <link rel="openid.delegate" href="http://andreafrancia.blogspot.com/" />

        <link href="/css/layout.css" rel="stylesheet" type="text/css" />
        <link href="/css/code-highlight.css" rel="stylesheet" type="text/css" />

        <link rel="alternate" type="application/rss+xml" title="Feed" href="/atom.xml" />

        <!-- Histats.com  START  --> 
<script async type="text/javascript" language="javascript"> 
var s_sid = 321314;var st_dominio = 4; 
var cimg = 0;var cwi =150;var che =30; 
</script> 
<script  async type="text/javascript" language="javascript" src="http://s11.histats.com/js9.js"/></script> 
<noscript><img src="http://s103.histats.com/stats/0.gif?321314&1" alt="contatore free" border="0"/> 
</noscript> 

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4316218-1']);
  _gaq.push(['_setDomainName', 'andreafrancia.it']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    </head>
    <body>
        <div id='mainnav' class='nav'>
    <ul>
        <li><a href="/">andreafrancia.it</a>
        <li><a href="/log.html">blog</a>
        <li class="last"><a href="/tdd-ios.html">TDD su iOS</a>
    </ul>
</div>

        <div id="contents">
            <h1>Applicazioni REST standalone (senza Tomcat o Glasshfish)</h1>
<div class='post'>
<p>Ho cercato di capire come sia possibile avviare 
<a href="https://jersey.dev.java.net/">Jersey</a> in modalità standalone, cioè 
senza dover ricorrere ad inutili (per ora) complessità, come:<ul>
  <li>application servers (e.g. <a href="https://glassfish.dev.java.net">Glasshfish</a>)
  <li>web containers (e.g. <a href="http://tomcat.apache.org">Tomcat</a>)
  <li>sistemi di build lenti e complicati (e.g.<a href="http://maven.apache.org/">maven</a>)
</ul>
Inoltre non volevo avere tra i piedi un file "web.xml".</p>
<p>Ho scoperto che è possibile! La documentazione non è facile da 
trovare, sembra quasi che Oracle (ex Sun) spinga per complicarti la vita.</p>
<p>Se volete provare anche voi dovete prima di tutto procurarvi le librerie 
necessarie:<ul>
 <li><a href="http://download.java.net/maven/2/com/sun/grizzly/grizzly-http-webserver/1.9.18-e/grizzly-http-webserver-1.9.18-e.jar">grizzly-servlet-webserver-1.9.18-e.jar</a></li>
 <li>asm-3.1.jar</li>
 <li>jersey-core-1.1.5.jar</li>
 <li>jersey-server-1.1.5.jar</li>
 <li>jsr311-api-1.1.1.jar</li>
</ul>

La prima contiene <a href="https://grizzly.dev.java.net/">Grizzly</a> (un 
embeddeddable web server), le restanti fanno parte della distribuzione di jersey
e sono scaricabili in un unica soluzione: 
<a href="http://download.java.net/maven/2/com/sun/jersey/jersey-archive/1.1.5/jersey-archive-1.1.5.zip">jersey-archive-1.1.5.zip</a>
</p>

<p>Una volta aggiunte le librerie al progetto potete passare alla creazione 
della risorsa di esempio:

<pre>
// file Hello.java
package learn.jersey.grizzly;
import javax.ws.rs.*;

@Path("/hello")
public class Hello {
    @GET @Produces("text/plain")
    public String sayHello() {
        return "Hello World!";
    }
}
</pre>
</p><p>E infine il main (che è cortissimo!):

<pre>
// Main.java
package learn.jersey.grizzly;

import com.sun.grizzly.tcp.Adapter;
import com.sun.jersey.api.container.ContainerFactory;
import com.sun.jersey.api.container.grizzly.GrizzlyServerFactory;
import java.io.IOException;

public class Main {

    public static void main(String[] args) throws IOException {
        Adapter adapter = ContainerFactory.createContainer(Adapter.class, Hello.class);
        GrizzlyServerFactory.create("http://localhost/", adapter);
    }

}
</pre>

Dopo aver avviato verificatene il funzionamento seguendo 
<a href="http://localhost/hello">http://localhost/hello</a>.
</p>
<p>Che bella la semplicità!</p></div>

        </div>
        <!-- Histats.com  START  --> 
<script async type="text/javascript" language="javascript"> 
var s_sid = 321314;var st_dominio = 4; 
var cimg = 0;var cwi =150;var che =30; 
</script> 
<script  async type="text/javascript" language="javascript" src="http://s11.histats.com/js9.js"/></script> 
<noscript><img src="http://s103.histats.com/stats/0.gif?321314&1" alt="contatore free" border="0"/> 
</noscript> 

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4316218-1']);
  _gaq.push(['_setDomainName', 'andreafrancia.it']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    </body>
</html>
